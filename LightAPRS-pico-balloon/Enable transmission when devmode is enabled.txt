// Near the top of the file, change:
#define DEVMODE // Development mode. Uncomment to enable for debugging.

// In the sendLocation() function, modify:
void sendLocation() {
#if defined(DEVMODE)
  Serial.println(F("Location sending with comment"));
#endif
  if ((readBatt() > DraHighVolt) && (readBatt() < 10)) RfPwrHigh; //DRA Power 1 Watt
  else RfPwrLow; //DRA Power 0.5 Watt

  int hh = gps.time.hour();
  int mm = gps.time.minute();
  int ss = gps.time.second();

  char timestamp_buff[7];

  sprintf(timestamp_buff, "%02d", gps.time.isValid() ? (int)gps.time.hour() : 0);
  sprintf(timestamp_buff + 2, "%02d", gps.time.isValid() ? (int)gps.time.minute() : 0);
  sprintf(timestamp_buff + 4, "%02d", gps.time.isValid() ? (int)gps.time.second() : 0);
  timestamp_buff[6] = 'h';
  AprsPinOutput;
  RfON;
  delay(2000);
  RfPttON;
  delay(1000);
  
  // Add this condition:
  #if defined(DEVMODE)
    APRS_sendLocWtTmStmp(telemetry_buff, strlen(telemetry_buff), timestamp_buff); // Transmit when in DEVMODE
  #else
    //APRS_sendLoc(telemetry_buff, strlen(telemetry_buff)); //beacon without timestamp
    APRS_sendLocWtTmStmp(telemetry_buff, strlen(telemetry_buff), timestamp_buff); //beacon with timestamp
  #endif

  delay(50);
  while(digitalRead(1)){;}//LibAprs TX Led pin PB1
  delay(50);
  RfPttOFF;
  RfOFF;
  AprsPinInput;
#if defined(DEVMODE)
  Serial.println(F("Location sent with comment"));
#endif

  TxCount++;
}

// Similarly, modify the sendStatus() function:
void sendStatus() {
  // ... (keep existing code)

  // Add this condition:
  #if defined(DEVMODE)
    APRS_sendStatus(status_buff, strlen(status_buff)); // Transmit when in DEVMODE
  #else
    APRS_sendStatus(status_buff, strlen(status_buff));
  #endif

  // ... (keep remaining code)
}